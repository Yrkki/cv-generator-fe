<div class="tryKeepTogether">
  <header id="{{ entities['Personal Data']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Personal Data']?.content"
    [attr.aria-labelledby]="tabName('Personal Data')">
    <h2>
      <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Personal Data'}"></ng-container>
      {{ entities['Personal Data']?.section }}
      <ng-container *ngTemplateOutlet="sectionCounter;context:{count: count(cv['Personal data'], 'Personal data', '~')}"></ng-container>
    </h2>
  </header>
  <div id="{{ entities['Personal Data']?.content }}" class="collapse show">
    <div *ngFor="let personalData of cv['Personal data']">
      <ng-container *ngComponentOutlet="PersonalDataComponent;injector:getInjector(personalData)"></ng-container>
    </div>
  </div>
</div>

<div class="tryKeepTogether">
  <header id="{{ entities['Background']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Background']?.content"
    [attr.aria-labelledby]="tabName('Background')">
    <h2>
      <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Background'}"></ng-container>
      {{ entities['Background']?.section }}
      <ng-container *ngTemplateOutlet="sectionCounter;context:{count: count(cv['Professional experience'], 'Period') + count(cv['Education'], 'Period')}"></ng-container>
    </h2>
  </header>
  <div id="{{ entities['Background']?.content }}" class="collapse show">
    <div class="tryKeepTogether">
      <header id="{{ entities['Professional Experience']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Professional Experience']?.content"
        [attr.aria-labelledby]="tabName('Professional Experience')">
        <h3>
          <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Professional Experience'}"></ng-container>
          {{ entities['Professional Experience']?.section }}
          <ng-container *ngTemplateOutlet="sectionCounter;context:{count: count(cv['Professional experience'], 'Period')}"></ng-container>
        </h3>
      </header>
      <div id="{{ entities['Professional Experience']?.content }}" class="collapse show">
        <div *ngFor="let professionalExperience of cv['Professional experience']">
          <ng-container *ngComponentOutlet="ProfessionalExperienceComponent;injector:getInjector(professionalExperience)"></ng-container>
        </div>
      </div>
    </div>

    <div class="tryKeepTogether">
      <header id="{{ entities['Education']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Education']?.content"
        [attr.aria-labelledby]="tabName('Education')">
        <h3>
          <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Education'}"></ng-container>
          {{ entities['Education']?.section }}
          <ng-container *ngTemplateOutlet="sectionCounter;context:{count: count(cv['Education'], 'Period')}"></ng-container>
        </h3>
      </header>
      <div id="{{ entities['Education']?.content }}" class="collapse show">
        <div *ngFor="let school of cv['Education']">
          <ng-container *ngComponentOutlet="EducationComponent;injector:getInjector(school)"></ng-container>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="tryKeepTogether">
  <header id="{{ entities['Accomplishments']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Accomplishments']?.content"
    [attr.aria-labelledby]="tabName('Accomplishments')">
    <h2>
      <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Accomplishments'}"></ng-container>
      {{ entities['Accomplishments']?.section }}
      <ng-container *ngTemplateOutlet="sectionCounter;context:{count: count(cv['Certifications'], 'Name', '~') + count(cv['Languages'], 'Language') + countCache['Name'] + countCache['Title']}"></ng-container>
    </h2>
  </header>
  <div id="{{ entities['Accomplishments']?.content }}" class="collapse show">
    <div class="tryKeepTogether">
      <header id="{{ entities['Certifications']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Certifications']?.content"
        [attr.aria-labelledby]="tabName('Certifications')">
        <h3>
          <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Certifications'}"></ng-container>
          {{ entities['Certifications']?.section }}
          <ng-container *ngTemplateOutlet="sectionCounter;context:{count: count(cv['Certifications'], 'Name', '~')}"></ng-container>
        </h3>
      </header>
      <div id="{{ entities['Certifications']?.content }}" class="collapse show">
        <div *ngFor="let certification of cv['Certifications']">
          <ng-container *ngComponentOutlet="CourseComponent;injector:getInjector(certification)"></ng-container>
        </div>
      </div>
    </div>

    <div class="tryKeepTogether">
      <header id="{{ entities['Languages']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Languages']?.content"
        [attr.aria-labelledby]="tabName('Languages')">
        <h3>
          <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Languages'}"></ng-container>
          {{ entities['Languages']?.section }}
          <ng-container *ngTemplateOutlet="sectionCounter;context:{count: count(cv['Languages'], 'Language')}"></ng-container>
        </h3>
      </header>
      <div id="{{ entities['Languages']?.content }}" class="collapse show">
        <!-- <app-language [propertyName]=""></app-language> -->
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12 cell-value">
              <canvas id="Language chart" height="230" width="550" class="language-chart"></canvas>
            </div>
          </div>
        </div>
        <ng-container *ngComponentOutlet="LanguageComponent;injector:getInjector({})"></ng-container>
      </div>
    </div>

    <div class="tryKeepTogether">
      <header id="{{ entities['Courses']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Courses']?.content"
        [attr.aria-labelledby]="tabName('Courses')">
        <h3>
          <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Courses'}"></ng-container>
          {{ entities['Courses']?.section }}
          <ng-container *ngTemplateOutlet="sectionCounter;context:{count: countCache['Name']}"></ng-container>
        </h3>
      </header>
      <div id="{{ entities['Courses']?.content }}" class="collapse show">
        <div class="tryKeepTogether">
          <header id="{{ entities['Courses Index']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Courses Index']?.content"
            [attr.aria-labelledby]="tabName('Courses Index')">
            <h4>
              <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Courses Index'}"></ng-container>
              {{ entities['Courses Index']?.section }}
              <ng-container *ngTemplateOutlet="sectionCounter;context:{count: countCache['Name']}"></ng-container>
            </h4>
          </header>
          <div id="{{ entities['Courses Index']?.content }}" class="collapse show">
            <span *ngFor="let course of filteredAccomplishments; let i = index;">
              <ng-container *ngComponentOutlet="CourseIndexComponent;injector:getInjector(course, i)"></ng-container>
            </span>
          </div>
        </div>

        <header id="{{ entities['Courses List']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Courses List']?.content"
          [attr.aria-labelledby]="tabName('Courses List')">
          <h4>
            <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Courses List'}"></ng-container>
            {{ entities['Courses List']?.section }}
            <ng-container *ngTemplateOutlet="sectionCounter;context:{count: countCache['Name']}"></ng-container>
          </h4>
        </header>
        <div id="{{ entities['Courses List']?.content }}" class="collapse show">
          <div *ngFor="let course of filteredAccomplishments">
            <ng-container *ngComponentOutlet="CourseComponent;injector:getInjector(course)"></ng-container>
          </div>
        </div>
      </div>
    </div>

    <div class="tryKeepTogether">
      <header id="{{ entities['Publications']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Publications']?.content"
        [attr.aria-labelledby]="tabName('Publications')">
        <h3>
          <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Publications'}"></ng-container>
          {{ entities['Publications']?.section }}
          <ng-container *ngTemplateOutlet="sectionCounter;context:{count: countCache['Title']}"></ng-container>
        </h3>
      </header>
      <div id="{{ entities['Publications']?.content }}" class="collapse show">
        <div class="tryKeepTogether">
          <header id="{{ entities['Publications Index']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Publications Index']?.content"
            [attr.aria-labelledby]="tabName('Publications Index')">
            <h4>
              <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Publications Index'}"></ng-container>
              {{ entities['Publications Index']?.section }}
              <ng-container *ngTemplateOutlet="sectionCounter;context:{count: countCache['Title']}"></ng-container>
            </h4>
          </header>
          <div id="{{ entities['Publications Index']?.content }}" class="collapse show">
            <span *ngFor="let publication of filteredPublications; let i = index;">
              <ng-container *ngComponentOutlet="PublicationIndexComponent;injector:getInjector(publication, i)"></ng-container>
            </span>
          </div>
        </div>

        <header id="{{ entities['Publications List']?.key }}" (click)="saveToggle($event)" data-toggle="collapse" [attr.data-target]="'#' + entities['Publications List']?.content"
          [attr.aria-labelledby]="tabName('Publications List')">
          <h4>
            <ng-container *ngTemplateOutlet="headerLink;context:{key: 'Publications List'}"></ng-container>
            {{ entities['Publications List']?.section }}
            <ng-container *ngTemplateOutlet="sectionCounter;context:{count: countCache['Title']}"></ng-container>
          </h4>
        </header>
        <div id="{{ entities['Publications List']?.content }}" class="collapse show">
          <div *ngFor="let publication of filteredPublications">
            <ng-container *ngComponentOutlet="PublicationComponent;injector:getInjector(publication)"></ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>