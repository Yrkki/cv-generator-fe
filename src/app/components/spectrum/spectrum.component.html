@if (portfolioService.toolbarService.tagCloud===TagCloudDisplayMode.tagCloud || portfolioService.toolbarService.tagCloud===TagCloudDisplayMode.both) {
  <span (keypress)="inputService.keypress($event)" (click)="engine.searchService.updateSearchToken($event)">
    @for (frequency of truncated; track trackByFn(i, frequency); let i = $index) {
      @if (i > 0) {
        &nbsp;{{ uiService.frequenciesDivider }}
      }
      <app-index [frequencyOverride]="frequency" [truncatorService]="truncatorService"></app-index>
    }
  </span>
  @if (remainingLength > 0) {
    <span class="more">+{{ remainingLength }}&nbsp;moreâ€¦ </span>
  }
}
@if (portfolioService.toolbarService.tagCloud===TagCloudDisplayMode.chart || portfolioService.toolbarService.tagCloud===TagCloudDisplayMode.both) {
  @if (getFrequenciesCache(key)?.length || 0 > 0) {
    <div>
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12 cell-value">
            <canvas #canvas [id]="portfolioService.engine.filterService.countCacheService.uiService.chartName(key)"
            height="{{ chartHeight }}" width="{{ chartWidth }}" class="spectrum-chart" style="width: 100%;"></canvas>
          </div>
        </div>
      </div>
    </div>
  }
}